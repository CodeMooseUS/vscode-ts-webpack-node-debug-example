VSCode TypeScript Webpack Node Debug Example
============================================

A minimal setup for VSCode debug of NodeJS programs written in TypeScript and bundled using Webpack 2.

This example also works for debugging the Electron **main process**.


TypeScript configuration
------------------------

Enable sourceMap in `tsconfig.json`:

```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```


Webpack configuration
---------------------

### Sourcemaps

You first need to enable sourcemaps in your Webpack configuration.

```js
{
  devtool: 'inline-source-map'
}
```

My personal picks are `inline-source-map` during development and `source-map` for build.

All available source-maps are listed [here](https://webpack.js.org/configuration/devtool/)

> Eval-based source maps won't work as they make the source mapping possible only at runtime, and VSCode won't be able to analyze them statically


### Sourcemaps Modules Absolute Paths

This will output the absolute path of your source files in the sourcemaps :

```js
{
  output: {
    devtoolModuleFilenameTemplate: '[absolute-resource-path]'
  }
}
```


VSCode configuration
--------------------

You need to create a `launch.json` in the `.vscode` folder at the root of your project.

```json
{
  "configurations": [
    {
      "name": "Launch Program",
      "type": "node",
      "request": "launch",
      "cwd": "${workspaceRoot}",
      "program": "${workspaceRoot}/src/index.ts",
      "outFiles": [
        "${workspaceRoot}/dist/bundle.js"
      ],
      "sourceMaps": true
    }
  ]
}
```

You need to specify in `"program"` the **source file** corresponding to the entry-point of your program.

Then in "outFiles" specify the path to the bundle generated by Webpack.

Last thing, of course do not forget to set `"sourceMaps"` to `true`.


Debug
-----

You should be ready to debug your code with VSCode.

```
git clone https://github.com:kube/vscode-ts-webpack-node-debug-example
cd vscode-ts-webpack-node-debug-example
npm install
```

Now :

- Open the folder in VSCode
- Place some breakpoints in the source code in `src/`
- Build the project using `⌘` + `⇧` + `B` or `webpack` in a terminal
- Start the debug using `⌘` + `R`

Enjoy.
